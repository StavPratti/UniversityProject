<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://primefaces.org/ui">
<h:body>
    <h:form id="studentEnroll">
        <h2 style="text-align:center;">Classes</h2>
        <p:dataTable id="classesTable"
                     value="#{classesController.classes}"
                     var="classes"
                     paginator="true"
                     rows="5"
                     rowsPerPageTemplate="5,10,15"
                     paginatorPosition="bottom"
                     paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}">
            currentPageReportTemplate="Showing {startRecord} to {endRecord} of {totalRecords} students">
            styleClass="dark-header">
            <p:column headerText="ID">
                <h:outputText style="text-align: center; display: block;" value="#{classes.id}" />
            </p:column>
            <p:column headerText="Name">
                <h:outputText style="text-align: center; display: block; word-wrap: break-word; white-space: normal;" value="#{classes.name}" />
            </p:column>
            <p:column headerText="Semester">
                <h:outputText style="text-align: center; display: block;" value="#{classes.semester}" />
            </p:column>
            <!-- Action column with three buttons -->
            <p:column headerText="Action" style="width: 200px; text-align: center;">
                <div class="action-buttons">
                    <!-- Enroll button -->
                    <p:commandButton style="background-color: #2cc62c; border:none" value="Enroll"
                                     icon="ui-icon-check"
                                     actionListener="#{studentController.enrollStudent(classes.id)}"
                                     oncomplete="PF('enrollStudentDialog').hide()"
                                     update=":studentEnroll:classesTable"
                    />
                </div>
            </p:column>
        </p:dataTable>
    </h:form>

</h:body>
</html>